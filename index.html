<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Componente – Acordeón (con imágenes)</title>
  <link rel="stylesheet" href="component-styles.css" />
  <style>

    .inner-card {
      position: relative;
      margin: 0;
      width: 100%;
      flex: 1;
      background: var(--card-bg);
      border-radius: var(--radius-card);
      overflow: hidden;
      z-index: 1;
      display: flex;
      flex-direction: column;
    }

    .app-title {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      font-size: 18px;
      font-weight: 700;
      color: var(--brand-600);
      margin: 0;
      text-align: center;
    }

    .divider {
      height: 1px;
      width: 100%;
      background: #d1d5db;
      margin-bottom: 10px;
      flex-shrink: 0;
    }

    .app-content {
      flex: 1;
      padding: 0 18px 12px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      overflow: hidden;
    }

    .app-subtitle {
      font-size: 0.96rem;
      color: var(--muted);
      margin: 0;
      text-align: center;
    }

    /* ---- Contenedor del acordeón dentro de la inner-card ---- */
    .comp-wrap {
      width: 100%;
      height: 100%;
      margin: 0;
      border: 0;
      border-radius: 12px;
      overflow: hidden;
      display: grid;
      grid-template-rows: auto 1fr;
      grid-template-areas:
        "head"
        "content";
      background: #fff;
    }

    .comp-wrap header {
      grid-area: head;
      padding: 8px 4px 6px 4px;
      border-bottom: 1px solid rgba(148, 163, 184, .15);
      background: #ffffff;
    }

    .comp-wrap h1 {
      margin: 0 0 4px;
      font: 700 20px Arial, Helvetica, sans-serif;
      color: var(--ink);
      letter-spacing: .2px;
      text-align: left;
    }

    .comp-wrap p.intro {
      margin: 0 0 6px;
      font: 400 12px "Proxima Nova", "ProximaNova", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--muted);
      line-height: 1.6;
    }

    .comp-wrap p.callout {
      margin: 4px 0 6px;
      font: 700 13px Arial, Helvetica, sans-serif;
      color: var(--accent);
    }

    .comp-wrap .content {
      grid-area: content;
      height: 100%;
      padding: 10px 8px 10px;
    }

    /* Contenedor visual del acordeón */
    .accordion {
      background: #ffffff;
      border-radius: 12px;
      padding: 10px;
      border: 1px solid #e5e7eb;
    }

    .accordion h2 {
      margin: 0 0 4px;
      font: 600 16px system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--ink);
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .acc-item {
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid #E5E7EB;
      background: #F9FAFB;
      margin: 8px 0;
      transition: background-color .18s ease, border-color .18s ease, box-shadow .18s ease;
    }

    .acc-item:hover {
      background: #ffffff;
      border-color: #D1D5DB;
      box-shadow: 0 4px 12px rgba(15, 23, 42, .08);
    }

    .acc-header {
      width: 100%;
      background: var(--panel);
      color: var(--panel-ink);
      padding: 14px 14px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      border: 0;
      font: 700 16px Arial, Helvetica, sans-serif;
      text-align: left;
    }

    .acc-header:focus {
      outline: 3px solid var(--accent);
      outline-offset: 2px;
    }

    .acc-plus {
      width: 26px;
      height: 26px;
      border-radius: 3px;
      border: 2px solid var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 0;
      font-size: 0;
      color: var(--accent);
      flex: 0 0 26px;
      background: #ffffff;
      transition: background-color .18s ease, color .18s ease, border-color .18s ease;
    }

    .acc-plus::before {
      content: "";
      display: block;
      width: 7px;
      height: 8px;
      border-right: 2px solid currentColor;
      border-bottom: 2px solid currentColor;
      transform: rotate(45deg);
    }

    .acc-body {
      display: none;
      padding: 12px 14px 14px;
      background: #F9FAFB;
      color: #434343;
      font: 400 12px "Proxima Nova", "ProximaNova", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      line-height: 1.7;
    }

    .acc-item.open .acc-body {
      display: block;
    }

    .acc-item.open .acc-plus {
      background: var(--accent);
      color: #ffffff;
      border-color: var(--accent);
    }

    .acc-item.open .acc-plus::before {
      transform: rotate(135deg);
    }

    .acc-item.open .acc-header {
      background: var(--accent);
      color: #ffffff;
    }

    .acc-body img {
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 2px 10px rgba(0, 0, 0, .06);
      margin: 12px 0 0;
      background: #fff;
    }

    .acc-body figure {
      margin: 12px 0 0;
    }

    .acc-body figcaption {
      font: 400 11px "Proxima Nova", "ProximaNova", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color: #8a8f98;
      margin-top: 6px;
    }



    /* Responsive para pantallas pequeñas */
    @media screen and (max-width: 700px) {

      .frame {
        height: 100% !important;
        overflow: hidden !important;
        display: flex !important;
        flex-direction: column !important;
      }

      .comp-wrap .content {
        padding: 8px 4px 8px !important;
      }

      .acc-header {
        padding: 12px 10px !important;
        font-size: var(--size-h3);
      }

      .acc-body {
        padding: 10px 10px 12px !important;
      }

      .comp-wrap h1 {
        font-size: 18px !important;
      }
    }
  </style>

  <!-- Script de detección de modo embebido (igual que component_classification) -->
  <script>
    (function () {
      function setEmbedded() {
        document.documentElement.classList.add('embedded-mode');
        if (document.body) document.body.classList.add('embedded-mode');
      }

      try {
        if (window.self !== window.top || window.parent !== window) {
          setEmbedded();
        }
      } catch (e) {
        setEmbedded();
      }

      window.addEventListener('DOMContentLoaded', function () {
        try {
          if (window.self !== window.top || window.parent !== window) {
            setEmbedded();
          }
        } catch (e) {
          setEmbedded();
        }
      });
    })();
  </script>
</head>

<body>
  <!-- LAYOUT RESPONSIVE DE CLASSIFICATION -->
  <div class="app-root overflow-auto">
    <div class="frame">
      <div class="inner-card">
        <header class="top-bar">
          <h1 class="template">Acordeón</h1>
           <h2 class="app-subtitle">
            Serie de encabezados que se expanden para mostrar contenido con texto e imágenes.
          </h2>
        </header>
        

        <div class="app-content">
         

          <div class="divider"></div>

          <!-- COMPONENTE ACORDEÓN -->
          <section class="comp-wrap" data-component-id="acc-002">
            <header>
              <h2>Acordeón</h2>
              <p class="intro">
                Serie de encabezados que se expanden para mostrar contenido. Ahora puedes añadir imágenes
                inmediatamente después de los textos, de forma responsiva.
              </p>
              <p class="callout">Seleccione los encabezados para obtener más información.</p>
            </header>

            <div class="content overflow-auto">
              <div class="accordion overflow-auto" id="acc">
                <!-- ======= Item 1 ======= -->
                <section class="acc-item" data-id="1">
                  <button class="acc-header" aria-expanded="false" aria-controls="acc1-body" id="acc1-head">
                    <span class="acc-plus" aria-hidden="true"></span>
                    Liza
                  </button>
                  <div class="acc-body" id="acc1-body" role="region" aria-labelledby="acc1-head">
                    <p>Contenido del acordeón 1. Reemplace este texto por la información que desee mostrar a los
                      estudiantes.</p>
                    <img src="../Nivel_A1/images/A1_C3_narrativo_a.png" alt="Descripción de la imagen (editar)"
                      width="100%" />
                  </div>
                </section>

                <!-- ======= Item 2 ======= -->
                <section class="acc-item" data-id="2">
                  <button class="acc-header" aria-expanded="false" aria-controls="acc2-body" id="acc2-head">
                    <span class="acc-plus" aria-hidden="true"></span>
                    Pasos de un proceso
                  </button>
                  <div class="acc-body" id="acc2-body" role="region" aria-labelledby="acc2-head">
                    <p>Detalle los pasos del proceso, buenas prácticas o checklists. Puede insertar listas, imágenes o
                      iframes.</p>
                    <figure>
                      <img src="../Nivel_A1/images/A1_C3_narrativo_a.png" alt="Descripción de la imagen (editar)"
                        width="50%" />
                      <figcaption>Diagrama ilustrativo del proceso.</figcaption>
                    </figure>
                  </div>
                </section>

                <!-- ======= Item 3 ======= -->
                <section class="acc-item" data-id="3">
                  <button class="acc-header" aria-expanded="false" aria-controls="acc3-body" id="acc3-head">
                    <span class="acc-plus" aria-hidden="true"></span>
                    Recapitulaciones
                  </button>
                  <div class="acc-body" id="acc3-body" role="region" aria-labelledby="acc3-head">
                    <p>Use este panel para recordar ideas clave o incluir capturas con ejemplos resueltos.</p>
                    <img src="../Nivel_A1/images/A1_C3_narrativo_a.png" alt="Descripción de la imagen (editar)"
                      width="25%" />
                  </div>
                </section>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>

  <!-- SCRIPT DEL ACORDEÓN (sin barra de progreso) -->
  <script>
    (function () {
      const wrap = document.querySelector('.comp-wrap');
      const id = wrap.getAttribute('data-component-id') || 'accordion-component';
      const acc = document.getElementById('acc');
      const items = Array.from(acc.querySelectorAll('.acc-item'));

      function toggle(item, header) {
        const isOpen = item.classList.toggle('open');
        header.setAttribute('aria-expanded', String(isOpen));
      }

      items.forEach((item) => {
        const header = item.querySelector('.acc-header');
        header.addEventListener('click', () => toggle(item, header));
        header.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            toggle(item, header);
          }
        });
      });
    })();
  </script>
</body>

</html>